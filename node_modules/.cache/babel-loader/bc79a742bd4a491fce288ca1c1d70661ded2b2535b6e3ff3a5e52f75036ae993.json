{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./FilmForm.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function FilmForm(_ref){let{filmToEdit,onAddFilm,onEditFilm,onCancel,onCloseFormAndRefresh}=_ref;const[title,setTitle]=useState('');const[description,setDescription]=useState('');const[rating,setRating]=useState(0);const[file,setFile]=useState(null);useEffect(()=>{if(filmToEdit){setTitle(filmToEdit.title);setDescription(filmToEdit.description);setRating(filmToEdit.rating);}else{clearForm();}},[filmToEdit]);const clearForm=()=>{setTitle('');setDescription('');setRating(0);setFile(null);};const handleFileChange=e=>{setFile(e.target.files[0]);};const handleSubmit=e=>{e.preventDefault();const filmData=filmToEdit?{title,description,rating}:{title,description,rating,file};if(filmToEdit){onEditFilm({...filmData,id:filmToEdit.id});}else{onAddFilm(filmData);}clearForm();onCloseFormAndRefresh();};return/*#__PURE__*/_jsx(\"div\",{className:\"film-form\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:title,onChange:e=>setTitle(e.target.value),placeholder:\"Film title\"}),/*#__PURE__*/_jsx(\"textarea\",{value:description,onChange:e=>setDescription(e.target.value),placeholder:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:rating,onChange:e=>setRating(e.target.value),placeholder:\"Rating (stars)\"}),!filmToEdit&&/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleFileChange}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:filmToEdit?'Save Changes':'Add Film'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{onCancel();onCloseFormAndRefresh();},children:\"Cancel\"})]})]})});}export default FilmForm;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","FilmForm","_ref","filmToEdit","onAddFilm","onEditFilm","onCancel","onCloseFormAndRefresh","title","setTitle","description","setDescription","rating","setRating","file","setFile","clearForm","handleFileChange","e","target","files","handleSubmit","preventDefault","filmData","id","className","children","onSubmit","type","value","onChange","placeholder","onClick"],"sources":["/Users/milad888/Desktop/HoÌˆgskolan/webb utveckling 2/inl5/src/FilmForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './FilmForm.css';\n\nfunction FilmForm({ filmToEdit, onAddFilm, onEditFilm, onCancel, onCloseFormAndRefresh }) {\n    const [title, setTitle] = useState('');\n    const [description, setDescription] = useState('');\n    const [rating, setRating] = useState(0);\n    const [file, setFile] = useState(null);\n\n    useEffect(() => {\n        if (filmToEdit) {\n            setTitle(filmToEdit.title);\n            setDescription(filmToEdit.description);\n            setRating(filmToEdit.rating);\n\n        } else {\n            clearForm();\n        }\n    }, [filmToEdit]);\n\n    const clearForm = () => {\n        setTitle('');\n        setDescription('');\n        setRating(0);\n        setFile(null);\n    };\n\n    const handleFileChange = (e) => {\n        setFile(e.target.files[0]);\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        const filmData = filmToEdit ? { title, description, rating } : { title, description, rating, file };\n\n        if (filmToEdit) {\n            onEditFilm({ ...filmData, id: filmToEdit.id });\n        } else {\n\n            onAddFilm(filmData);\n        }\n\n        clearForm();\n        onCloseFormAndRefresh();\n    };\n\n    return (\n        <div className=\"film-form\">\n            <form onSubmit={handleSubmit}>\n                <input\n                    type=\"text\"\n                    value={title}\n                    onChange={(e) => setTitle(e.target.value)}\n                    placeholder=\"Film title\"\n                />\n                <textarea\n                    value={description}\n                    onChange={(e) => setDescription(e.target.value)}\n                    placeholder=\"Description\"\n                />\n                <input\n                    type=\"number\"\n                    value={rating}\n                    onChange={(e) => setRating(e.target.value)}\n                    placeholder=\"Rating (stars)\"\n                />\n                {\n                    !filmToEdit && (\n                        <input\n                            type=\"file\"\n                            onChange={handleFileChange}\n                        />\n                    )\n                }\n                <div className=\"form-actions\">\n                    <button type=\"submit\">{filmToEdit ? 'Save Changes' : 'Add Film'}</button>\n                    <button type=\"button\" onClick={() => { onCancel(); onCloseFormAndRefresh(); }}>Cancel</button>\n                </div>\n            </form>\n        </div>\n    );\n}\n\nexport default FilmForm;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAExB,QAAS,CAAAC,QAAQA,CAAAC,IAAA,CAAyE,IAAxE,CAAEC,UAAU,CAAEC,SAAS,CAAEC,UAAU,CAAEC,QAAQ,CAAEC,qBAAsB,CAAC,CAAAL,IAAA,CACpF,KAAM,CAACM,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACe,WAAW,CAAEC,cAAc,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACiB,MAAM,CAAEC,SAAS,CAAC,CAAGlB,QAAQ,CAAC,CAAC,CAAC,CACvC,KAAM,CAACmB,IAAI,CAAEC,OAAO,CAAC,CAAGpB,QAAQ,CAAC,IAAI,CAAC,CAEtCC,SAAS,CAAC,IAAM,CACZ,GAAIO,UAAU,CAAE,CACZM,QAAQ,CAACN,UAAU,CAACK,KAAK,CAAC,CAC1BG,cAAc,CAACR,UAAU,CAACO,WAAW,CAAC,CACtCG,SAAS,CAACV,UAAU,CAACS,MAAM,CAAC,CAEhC,CAAC,IAAM,CACHI,SAAS,CAAC,CAAC,CACf,CACJ,CAAC,CAAE,CAACb,UAAU,CAAC,CAAC,CAEhB,KAAM,CAAAa,SAAS,CAAGA,CAAA,GAAM,CACpBP,QAAQ,CAAC,EAAE,CAAC,CACZE,cAAc,CAAC,EAAE,CAAC,CAClBE,SAAS,CAAC,CAAC,CAAC,CACZE,OAAO,CAAC,IAAI,CAAC,CACjB,CAAC,CAED,KAAM,CAAAE,gBAAgB,CAAIC,CAAC,EAAK,CAC5BH,OAAO,CAACG,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAC9B,CAAC,CAED,KAAM,CAAAC,YAAY,CAAIH,CAAC,EAAK,CACxBA,CAAC,CAACI,cAAc,CAAC,CAAC,CAElB,KAAM,CAAAC,QAAQ,CAAGpB,UAAU,CAAG,CAAEK,KAAK,CAAEE,WAAW,CAAEE,MAAO,CAAC,CAAG,CAAEJ,KAAK,CAAEE,WAAW,CAAEE,MAAM,CAAEE,IAAK,CAAC,CAEnG,GAAIX,UAAU,CAAE,CACZE,UAAU,CAAC,CAAE,GAAGkB,QAAQ,CAAEC,EAAE,CAAErB,UAAU,CAACqB,EAAG,CAAC,CAAC,CAClD,CAAC,IAAM,CAEHpB,SAAS,CAACmB,QAAQ,CAAC,CACvB,CAEAP,SAAS,CAAC,CAAC,CACXT,qBAAqB,CAAC,CAAC,CAC3B,CAAC,CAED,mBACIT,IAAA,QAAK2B,SAAS,CAAC,WAAW,CAAAC,QAAA,cACtB1B,KAAA,SAAM2B,QAAQ,CAAEN,YAAa,CAAAK,QAAA,eACzB5B,IAAA,UACI8B,IAAI,CAAC,MAAM,CACXC,KAAK,CAAErB,KAAM,CACbsB,QAAQ,CAAGZ,CAAC,EAAKT,QAAQ,CAACS,CAAC,CAACC,MAAM,CAACU,KAAK,CAAE,CAC1CE,WAAW,CAAC,YAAY,CAC3B,CAAC,cACFjC,IAAA,aACI+B,KAAK,CAAEnB,WAAY,CACnBoB,QAAQ,CAAGZ,CAAC,EAAKP,cAAc,CAACO,CAAC,CAACC,MAAM,CAACU,KAAK,CAAE,CAChDE,WAAW,CAAC,aAAa,CAC5B,CAAC,cACFjC,IAAA,UACI8B,IAAI,CAAC,QAAQ,CACbC,KAAK,CAAEjB,MAAO,CACdkB,QAAQ,CAAGZ,CAAC,EAAKL,SAAS,CAACK,CAAC,CAACC,MAAM,CAACU,KAAK,CAAE,CAC3CE,WAAW,CAAC,gBAAgB,CAC/B,CAAC,CAEE,CAAC5B,UAAU,eACPL,IAAA,UACI8B,IAAI,CAAC,MAAM,CACXE,QAAQ,CAAEb,gBAAiB,CAC9B,CACJ,cAELjB,KAAA,QAAKyB,SAAS,CAAC,cAAc,CAAAC,QAAA,eACzB5B,IAAA,WAAQ8B,IAAI,CAAC,QAAQ,CAAAF,QAAA,CAAEvB,UAAU,CAAG,cAAc,CAAG,UAAU,CAAS,CAAC,cACzEL,IAAA,WAAQ8B,IAAI,CAAC,QAAQ,CAACI,OAAO,CAAEA,CAAA,GAAM,CAAE1B,QAAQ,CAAC,CAAC,CAAEC,qBAAqB,CAAC,CAAC,CAAE,CAAE,CAAAmB,QAAA,CAAC,QAAM,CAAQ,CAAC,EAC7F,CAAC,EACJ,CAAC,CACN,CAAC,CAEd,CAEA,cAAe,CAAAzB,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}